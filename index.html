<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Discover Me</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
        <link rel="stylesheet" type="text/css" href="./index.css">

        <!--<script src="./config.js"></script>-->
        <script type="module" src="./index.js"></script>
    </head>
    <body>
        <div id="map-container">
           <div id="map"></div>
           <div id="overlay"></div>
        </div> 
        
        <div class="initial-walkthrough">
            <h1 id="app-name">Discover Me</h1>
        
            <div class="stepper">
                <div class="step" data-step="1"><p>1</p>Set Location</div>
                <div class="step" data-step="2"><p>2</p>Connect to Instagram</div>
                <div class="step" data-step="3"><p>3</p>Check</div> 
            </div>

            <div class="instruction" id="step1-instruction">
                <p>Search for your home town or select your current location</p>
                <input type="text" placeholder="Enter a location" id="location-input">
                <button id="current-location-btn"><img id="location-icon" src="./images/current_location.png"></button>
            </div>
            
            <div class="instruction" id="step2-instruction">
                <p>Connect with your Instagram profile to add your pictures to the map</p>
                <button id="instagram-connect-btn">CONNECT <img id="instagram-logo" src="./images/instagram_icon.png"></button>
                <div id="instagram-placeholder">Your Instagram photos will appear here.</div>
            </div>

            <div class="instruction" id="step3-instruction">
                <p>Check your data and begin your journey</p>
                <div id="summary">Selected Location: <span id="selected-location">None</span></div>
                <div id="instagram-summary">Connected Instagram: <span id="instagram-status">Not Connected</span></div>
                <button id="start-journey-btn">Start Journey</button>
            </div>

            
            <div class="navigation-buttons">
                <button class="item" id="back-button">Back</button>
                <button class="item" id="next-button">Next</button>
            </div>
        </div>
        
    
        <script>
            (g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})({
              key: 'AIzaSyAjWRPsQOwP72WxUqU7Au4_TxTrPBeCjeI', // Use the API key from the config file
              v: "weekly"
              // Add other bootstrap parameters as needed, using camel case.
            });
        </script>
        <script src="./src/components/initialization/initialization.js"></script>
    </body>
</html>